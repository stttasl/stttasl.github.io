<html>
  <head></head>
  <body>
// Input values will be grabbed by ID

<input id="loginEmail" type="text" name="email" placeholder="Email">
<input id="loginPassword" type="password" name="password" placeholder="Password">

// return stops normal action and runs login()
<button onclick="return login()">Submit</button>

    <script>
      // WARNING: For POST requests, body is set to null by browsers.
/*var data = new FormData();
data.append("data-binary", fileInput.files[0], "[PROXY]");
 
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "https://api.wit.ai/speech");
xhr.setRequestHeader("Content-Type", "audio/wav");
xhr.setRequestHeader("", "");
xhr.setRequestHeader("Authorization", "Bearer WN27BV76PBRPKC3MLZIWFYRJPEZEFXEJ");

xhr.send(data);*/
    </script>

<script>
    function login() {
        // Form fields, see IDs above
        const params = {
            email: document.querySelector('#loginEmail').value,
            password: document.querySelector('#loginPassword').value
        }

        const http = new XMLHttpRequest()
        http.open('POST', 'https://api.wit.ai/speech')
        http.setRequestHeader('Content-type', 'audio/wav'); 
        http.setRequestHeader("Authorization", "Bearer WN27BV76PBRPKC3MLZIWFYRJPEZEFXEJ");
        http.send(JSON.stringify(params)) // Make sure to stringify
        http.onload = function() {
            // Do whatever with response
            alert(http.responseText)
        }
    }
</script>
    </body>
</html>
